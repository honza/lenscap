#!/usr/bin/env python

import sys
from optparse import OptionParser
from tripod.core import main as tripod_main


def main():
    usage = "Usage: tripod [options] file"
    parser = OptionParser(usage=usage)

    parser.add_option('-p', '--photos', dest='photos_dir', metavar='DIR',
                      help='Directory with photos (default: photos/)',
                      default='photos')
    parser.add_option('-t', '--templates', dest='templates_dir', metavar='DIR',
                      help='Directory with templates (default: None)',
                      default=None)
    options, args = parser.parse_args()

    if len(args) == 0:
        print 'ERROR: Missing file'
        sys.exit(1)

    tripod_main(args[0], options)


if __name__ == '__main__':
    main()
